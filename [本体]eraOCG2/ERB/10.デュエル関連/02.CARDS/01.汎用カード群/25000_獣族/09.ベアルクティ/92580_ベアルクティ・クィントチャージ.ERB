@CARDNAME_92580,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 베어루크티 퀸트차지
	CASE "略称"
		RESULTS = BeR퀸트
	CASE "カテゴリ"
		RESULTS:0 = 베어루크티
ENDSELECT


@CARD_92580(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 지속함정
	CASE "추가日"
		RETURN 250818
ENDSELECT

RETURN 0

@CARD_EXPLANATION_92580(종류)
#DIM DYNAMIC 종류

PRINTL 이 카드명의 ①의 효과는 １턴에 １번밖에 사용할 수 없다。
CALLFORM CARD_ABLE(1,마함起動,フリー誘発)
PRINTL ①：７００LP을 지불하고、자신 필드의 "베어루크티" 몬스터 １장을 선택하고 발동할 수 있다。
PRINTL 그 카드의 특수 소환할 때의 효과를 발동한다。
PRINTL 이 효과로 "베어루크티－셉텐＝트리온"을 선택한 경우、상대 필드의 EX 몬스터 １장을 제외한다。
CALLFORM CARD_ABLE(2,효과後誘発)
PRINTL ②：자신의「베어루크티」S 몬스터가 상대의 공격으로 파괴된 때 발동할 수 있다。
PRINTL 상대는 자신의 패 / 필드 / 묘지의 카드의 합계가７장이 되도록 소유자의 덱에 되돌려야 한다。

@CARDCAN_92580(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,92580)
SIF RESULT == 1
	RETURN 0

;起動효과
IF 종류 == 마함起動 || 종류 == フリー誘発
	SIF ゾーン != "마함"
		RETURN 0
	IF GETVAR(@"%듀얼리스트%_魔_表:場所") == 3
		RETURN 0
	ELSEIF GETVAR(@"%듀얼리스트%_魔_表:場所") == 2
		RETURN 1
	ENDIF

	SIF 발동済_1(듀얼리스트,92580)
		RETURN 0
	;戻すべき마법사족がいるかチェック
	CALL FULLRESET
	효과範囲필드 = 1
	효과条件カテゴリ = 베어루크티
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 효과後誘発
	SIF ゾーン != "마함"
		RETURN 0
	SIF GETVAR(@"%듀얼리스트%_魔_表:場所") >= 2
		RETURN 0
	SIF 발동済_2(듀얼리스트,92580)
		RETURN 0

	SIF ターンプレイヤー == 듀얼리스트
		RETURN 0
	SIF 直前戦闘破壊ID(듀얼리스트) == 0
		RETURN 0
	TRYCALLFORM CARD_{直前戦闘破壊ID(듀얼리스트)}, "종류"
	SIF RESULT != 싱크로
		RETURN 0
	TRYCALLFORM CARDNAME_{直前戦闘破壊ID(듀얼리스트)}, "カテゴリ"
	SIF RESULTS != "베어루크티"
		RETURN 0
	RETURN 1
ENDIF




@CARDEFFECT_92580(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 条件달성
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 選択カード_ID
#DIMS DYNAMIC 対面者
CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

;①の효과
IF 종류 == 마함起動 || (종류 == フリー誘発 && ゾーン == "마함")
	IF GETVAR(@"%듀얼리스트%_魔_表:場所") == 2
		CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,92580)
		IF RESULT == 0
			CALL CARDCAN_92580(듀얼리스트,종류,ゾーン,場所)
			IF RESULT == 1
				CALL YN_CHOICE(듀얼리스트,"효과를 사용한다","효과를 사용하지 않는다")
				IF RESULT == 0
					GOTO EFFECT_USE
				ENDIF
			ENDIF
		ENDIF
	ELSE
		$EFFECT_USE
		CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,92580,1)
		IF RESULT == 0
			CALL LIFE_CHANGE(듀얼리스트,"減少","コスト",700)
			CALL FULLRESET
			효과範囲필드 = 1
			효과条件カテゴリ = 베어루크티
			CALL CARD_CHOOSE_ADV(듀얼리스트,ゾーン,場所)
			IF RESULT != 9999
				CALLFORM CARDEFFECT_{RESULT:99}(듀얼리스트,특수소환時,"효과処理")
			ENDIF
		ENDIF
	ENDIF
;②の효과
ELSEIF 종류 == 효과後誘発
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,92580)
	IF RESULT == 0
		CALL FULLRESET
		효과範囲필드 = 1
		효과範囲마함 = 1
		효과範囲손패 = 1
		효과範囲묘지 = 1
		효과条件複数 = 7
		효과条件行先플래그 = 덱行き
		CALL CARD_ADD_GY_ADV(対面者,ゾーン,場所)
	ENDIF
ENDIF



