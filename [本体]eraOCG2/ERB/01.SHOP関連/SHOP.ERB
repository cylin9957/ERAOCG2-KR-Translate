@SHOW_SHOP
;奴隷구입ページ플래그
TFLAG:100 = 0

;IF ロード플래그 == 0
;	CALL REDRAWSET
;	ロード플래그 = 1
;ENDIF

IF オプション_開UPD
	CALL UPDATE_CHARA
	CALL UPDATES
ENDIF
CUSTOMDRAWLINE —
IF オプション_OP_TIPS != 0
	CALL GAME_TUTORIAL(3)
ELSE
	CALL SHOWTIPS_SHOP
ENDIF


PRINTFORML {DAY}일 째(%GET_DAY()%)
;PRINTFORML (소지금:{MONEY}엔)
CUSTOMDRAWLINE —

PRINT 【 체력 】
CALL PRINT_COLORBAR, BASE:MASTER:체력, MAXBASE:MASTER:체력, 30, UNICODE(0x2584), UNICODE(0x2584),  BARCOLORSET("赤"), RESULT:1
PRINTFORM  ({BASE:MASTER:체력,5}/{MAXBASE:MASTER:체력,5})
PRINTFORM %"",3,LEFT%
PRINTFORML 【소지금】({MONEY,10,RIGHT}엔)

PRINT 【 기력 】
CALL PRINT_COLORBAR, BASE:MASTER:기력, MAXBASE:MASTER:기력, 30, UNICODE(0x2584), UNICODE(0x2584),  BARCOLORSET("緑"), RESULT:1
PRINTFORM  ({BASE:MASTER:기력,5}/{MAXBASE:MASTER:기력,5})
PRINTFORM %"",3,LEFT%
PRINT 【 발기 】
CALL PRINT_COLORBAR, BASE:MASTER:발기, MAXBASE:MASTER:발기, 30, UNICODE(0x2584), UNICODE(0x2584),  BARCOLORSET("白"), RESULT:1
PRINTFORML  ({BASE:MASTER:발기,5}/{MAXBASE:MASTER:발기,5})
CUSTOMDRAWLINE —
SETCOLOR C_GOLD
CUSTOMDRAWLINE —
PRINTFORML 소지하고있는 보물：
IF ITEM:천년디스크（오리지널） == 1
	PRINTFORM 　천년디스크（오리지널）
ELSEIF ITEM:천년디스크 == 1
	PRINTFORM 　천년디스크
ENDIF
IF ITEM:천년바이크 >= 1
	PRINTFORM 　천년바이크
ELSEIF ITEM:천년도어 >= 1
	PRINTFORM 　천년도어
ENDIF
SIF ITEM:천년스마트폰 >= 1
	PRINTFORM 　천년스마트폰
SIF ITEM:천년마커 >= 1
	PRINTFORM 　천년마커
SIF ITEM:천년카메라 >= 1
	PRINTFORM 　천년카메라
SIF ITEM:천년마이크 >= 1
	PRINTFORM 　천년마이크
SIF ITEM:천년링 >= 1
	PRINTFORM 　천년링

PRINTL
CUSTOMDRAWLINE —

RESETCOLOR
PRINTL 기타 정보：
IF FLAG:신사방문캐릭터 > 0
	PRINTFORML %CALLNAME:(FLAG:신사방문캐릭터)%가 신사에 온 기분이다……
ENDIF
SIF デバッグシステム == 1
	PRINTFORML 디버그ON

SETCOLOR C_P_GREEN
PRINTL ——————————【메인메뉴】——————————————————————————————————————————————————————————————————————————————————————
RESETCOLOR
PRINTFORM %"",5%
PRINTFORM %"[100] - 기상",40,LEFT%
PRINTFORM %"[101] - 기상설정",40,LEFT%
PRINTFORM %"[102] - 덱 편집",40,LEFT% 
PRINTL 
PRINTFORM %"",5%
PRINTFORM %"[103] - 능력표시",40,LEFT%
PRINTFORM %"[104] - 통신판매",40,LEFT%
PRINTFORM %"[105] - 범용구상관리",40,LEFT%
PRINTL
PRINTFORM %"",5%
FOR LOCAL,1,CHARANUM
	IF TALENT:LOCAL:연모 != 0 || TALENT:LOCAL:굴복됨 != 0
		PRINTFORM %"[106] - 연인옵션",40,LEFT%
		BREAK
	ENDIF
NEXT
FOR LOCAL,1,CHARANUM
	IF TALENT:LOCAL:모브 != 0 || TALENT:LOCAL:복제 != 0
		PRINTFORM %"[107] - 캐릭터와 헤어진다",40,LEFT%
		BREAK
	ENDIF
NEXT
;PRINTFORML [109] - 체크

PRINTL 
PRINTFORM %"",5%
SIF ITEM:200 > 0
	PRINTFORM %"[108] - 영혼의 카드 사용",40,LEFT%

PRINTL 
PRINTFORM %"",5%
PRINTFORM %"[110] - 실적관리",40,LEFT%

;Anonym추가
PRINTFORM %"[111] - 의뢰를 회상한다",40,LEFT%


PRINTL 
SETCOLOR C_P_GREEN
PRINTL ——————————【시스템 메뉴】————————————————————————————————————————————————————————————————————————————————————
RESETCOLOR
PRINTFORM %"",5%
PRINTFORM %"[200] - SAVE",40,LEFT%
PRINTFORM %"[300] - LOAD",40,LEFT%
PRINTFORM %"[400] - OPTION",40,LEFT%
PRINTL
CUSTOMDRAWLINE —
PRINTL




@USERSHOP
#DIM DYNAMIC カウンタ

IF RESULT == 100
	CALL TRAIN_MAIN
	RETURN 1

ELSEIF RESULT == 101
	CALL SCHEDULE

ELSEIF RESULT == 102
	CALL EDIT_DECK_EX

ELSEIF RESULT == 103
	CALL MONSTER_LIST(5)

;ELSEIF RESULT == 102 && STRLENS(SAVESTR:10) > 1
;	CALL SHOW_COLLECTION
ELSEIF RESULT == 104
	CALL ITEM_BUY
ELSEIF RESULT == 105
	CALL MONSTER_LIST(30)

ELSEIF RESULT == 106
	CALL MONSTER_LIST(6)

ELSEIF RESULT == 107
	CALL MONSTER_LIST(15)

ELSEIF RESULT == 108 && ITEM:200 > 0
	CALL MONSTER_LIST(18)

ELSEIF RESULT == 109
	FOR カウンタ,0,CHARANUM
		PRINTFORML [{カウンタ}] - %NAME:カウンタ%
	NEXT
	PRINTW
;Anonym추가
ELSEIF RESULT == 110
	CALL TROPHY_LIST
ELSEIF RESULT == 111
	CALL IRAI_LIST(1)

ELSEIF RESULT == 200
	CALL TITLE_SAVEGAME
ELSEIF RESULT == 300
	CALL TITLE_LOADGAME
ELSEIF RESULT == 400
	CALL OPTION
ELSEIF RESULT == 7777
	CALL MONEY_GET(10000000000)
ELSEIF RESULT == 8888
	デバッグシステム ^= 1
ENDIF

@PREG_RELEASE(캐릭터_ID)
#DIM DYNAMIC 캐릭터_ID

TALENT:캐릭터_ID:임신 = 1
TALENT:캐릭터_ID:임신가능 = 0
CFLAG:캐릭터_ID:ECE임신플래그 = 0
PRINTFORMW %CALLNAME:캐릭터_ID%는 임신했습니다
ITEM:200 -= 1
RETURN 1


@SCHEDULE
PRINTL [0] - 기상 시간 설정
PRINTL [100] - 뒤로
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 0
    CUSTOMDRAWLINE ―
	PRINTL 몇 시에 일어납니까?(0～23을 입력해주세요)
	PRINTFORML 현재 기상 시각：{KANTAN_TIME(CFLAG:MASTER:312,0,1)}:00
	CUSTOMDRAWLINE ―
	PRINTFORML [ 1] [ 2] [ 3] [ 4] [ 5] [ 6] [ 7] [ 8] [ 9] [10] [11] [12]
	PRINTFORML [13] [14] [15] [16] [17] [18] [19] [20] [21] [22] [23] [ 0]
	$INPUT_LOOP
	INPUT
	SIF RESULT < 0 || RESULT > 23
		GOTO INPUT_LOOP
	CFLAG:MASTER:312 = RESULT * 60
ENDIF

RETURN 1


@REDRAWSET
#DIM DYNAMIC ログ行数
#DIM DYNAMIC カウンタ
#DIM DYNAMIC カウンタB 
#DIM DYNAMIC カウンタC
;ログ行数 = GETCONFIG("이력ログの行数")

FOR カウンタ,0,10001
	PRINTL 
	カウンタB ++
	IF カウンタB == 2500
		カウンタB = 0
		SIF カウンタC >= 90
			カウンタC = 0
		カウンタC ++
		PRINT Now Loading
		IF カウンタC >= 60
			PRINT ...
		ELSEIF カウンタC >= 30
			PRINT .. 
		ELSEIF カウンタC >= 0
			PRINT .  
		ENDIF
		PRINTFORML {カウンタ/ 100}％
		AWAIT
		CLEARLINE 1
	ENDIF
NEXT
PRINTFORML Load Complete！　100％