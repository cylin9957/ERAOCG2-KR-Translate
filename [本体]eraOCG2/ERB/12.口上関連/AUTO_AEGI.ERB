;てゐ구상を参考に作った구상のない캐릭터でウフフ中呼び出す自動喘ぎ関数
;구상持ちでも任意で台詞に挟めるようにARGS次第でカッコ省略できるようにしてみた

@AUTO_AEGI(ARG,ARGS)
#DIM 喘ぎ강도
#DIM 喘ぎ횟수

;PRINTFORML ここまできてる
 
;シラフじゃないと駄目
SIF !SHIRAHU(ARG)
	RETURN 0
SIF !CFLAG:ARG:우후후
	RETURN 0
SIF GROUPMATCH(SELECTCOM, 19, 20, 81, 88, 89)
	RETURN 0
喘ぎ강도 = AEGI_LEVEL(ARG)

SIF !喘ぎ강도
	RETURN 0


SIF ARGS != "前カッコ省略" && ARGS != "カッコ省略"
	PRINT 「

SELECTCASE 喘ぎ강도
	CASE 1
		喘ぎ횟수 = 2 + RAND:2
	CASE 2
		喘ぎ횟수 = 2 + RAND:2 + RAND:3
	CASE 3
		喘ぎ횟수 = 3 + RAND:2 + RAND:3 + RAND:3
	CASEELSE
		喘ぎ횟수 = 3 + RAND:喘ぎ강도 + RAND:喘ぎ강도 + RAND:喘ぎ강도
ENDSELECT

FOR LOCAL,0,喘ぎ횟수
	LOCALS:LOCAL = %AEGI_PATTERN(喘ぎ강도, ARG)%
	;前のと一緒だったら一한번만 再抽選
	SIF LOCAL > 0 && LOCALS:LOCAL == LOCALS:(LOCAL - 1)
		LOCALS:LOCAL = %AEGI_PATTERN(喘ぎ강도, ARG)%
	PRINTFORM %LOCALS:LOCAL%
	SIF !RAND:2 && 喘ぎ강도 <= 3
		PRINT …
	SIF 喘ぎ강도 >= 4 || (喘ぎ강도 == 3 && !RAND:4)
		CALL HEARTMARK(1)
	SIF LOCAL != 喘ぎ횟수 - 1
		PRINTPLAIN  
NEXT

SIF ARGS != "後カッコ省略" && ARGS != "カッコ省略"
	PRINTL 」


@AEGI_LEVEL(ARG)
#FUNCTION
LOCAL = CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ + CUP:ARG:쾌Ｂ + CUP:ARG:쾌Ｍ
;PRINTFORML 喘ぎレベル{LOCAL}
SELECTCASE LOCAL
	CASE 0
		RETURNF 0
	CASE IS < 2500
		RETURNF 1
	CASE IS < 5000
		RETURNF 2
	CASE IS < 10000
		RETURNF 3
	CASE IS < 30000
		RETURNF 4
	CASE IS < 50000
		RETURNF 5
	CASEELSE
		RETURNF 6
ENDSELECT


;バリエーションおよび喘ぎ강도と台詞の対応상황は改善の余땅があるだろう
;
;>まずはいやらしくいじられてる場所をつぶやくようにしよう
;>대상의 CUPを見るために引数を확장
@AEGI_PATTERN(喘ぎ강도, ARG)
#FUNCTIONS
#DIM 喘ぎ강도

;部位つぶやき、とりあえず20%で（部位そのものをつぶやくとは言っていない）
;部位ごとのCUPを合計して乱数をとり、Ｃから順に乱数が合計値以内かで部位を판정、ヒットすればその部位をつぶやく（喘ぎ강도と함락系素質と部位감도を合わせて計算していいんだけど、それは先の話）
;部位함락は감도5が条件なのを考えるともう少し分けつつ「감각*30(最大180)+1d100」の結果で분기させることでバリエーションが出るといいなぁ
;IF TCVAR:ARG:無理矢理 && 喘ぎ강도 < 3

;ELSEIF RAND:100 < 20 && (CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ + CUP:ARG:쾌Ｂ + CUP:ARG:쾌Ｍ) 
IF RAND:100 < 20 && (CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ + CUP:ARG:쾌Ｂ + CUP:ARG:쾌Ｍ) 
	SELECTCASE RAND:(CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ + CUP:ARG:쾌Ｂ + CUP:ARG:쾌Ｍ)
	;CUPを合計して乱数を取る。これでCUPの値に応じて拾う確率に差が生まれる
	CASE IS < CUP:ARG:쾌Ｃ
		;クリ、肉棒どうしよう…（このあとに성별판정入れれば분기は可能ではある）
		LOCAL = MIN(ABL:ARG:Ｃ감각 * 20, 180) + RAND:100
		SIF CFLAG:ARG:자동신음 != 2
			LOCAL = MIN(LOCAL, 150)
		SELECTCASE LOCAL
		;감각＋乱数による분기、下に行くほどアレです
		CASE 0 TO 80
			LOCALS = %TEXTR("아앙…/이야앙/히야아앙/그러어언/")%
		CASE 81 TO 150
			LOCALS = %TEXTR("클리…/후아아/후아앙/콩/거기잇/")%
		CASE 151 TO 200
			LOCALS = %TEXTR("클리토리스/콩알이잇/콩알잇/딱딱해져/보지가.../클리가/")%
		CASEELSE
			LOCALS = %TEXTR("클리이잇/딱딱해져어어/보지이잇/콩알이～/클리토니스가아아/거긴 안 돼에에…/")%
		ENDSELECT

	CASE IS < CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ
		LOCAL = MIN(ABL:ARG:Ｖ감각 * 20, 180) + RAND:100
		SIF CFLAG:ARG:자동신음 != 2
			LOCAL = MIN(LOCAL, 150)
		;질、肉オナホまで言わせるのはちょっと違うと思ったので控えました
		SELECTCASE LOCAL
		;감각＋乱数による분기、下に行くほどアレです
		CASE 0 TO 80
			LOCALS = %TEXTR("크으…/끄으…/이야앙/햐아앙/거기잇/")%
		CASE 81 TO 150
			LOCALS = %TEXTR("안이…/쿵하고/지잉하고/뜨거워엉/거길/깊게/배가아앗/")%
		CASE 151 TO 200
				LOCALS = %TEXTR("보지가아/보지지잇/자궁이/안이이/깊이이/푹… 푹푹")%
		CASEELSE
				LOCALS = %TEXTR("보오지이이가아/히끄으윽/세게 문질러져/쥬코쥬보 해서/자궁이이～/냐아양/")%
		ENDSELECT

	CASE IS < CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ
		;あなぅ、多分一番はっちゃけられる場所だと思う（のであとは任せた）
		LOCAL = MIN(ABL:ARG:Ａ감각 * 20, 180) + RAND:100
		SIF CFLAG:ARG:자동신음 != 2
			LOCAL = MIN(LOCAL, 150)
		SELECTCASE LOCAL
		;감각＋乱数による분기、下に行くほどアレです
		CASE 0 TO 80
			LOCALS = %TEXTR("으응…/아윽…/이야앙/히야응/오그윽/거기/")%
		CASE 81 TO 150
			LOCALS = %TEXTR("엉덩이/케엑/그거어/틀려어/")%
		CASE 151 TO 200
			LOCALS = %TEXTR("엉덩이 구멍/엉덩이이/궁둥이/두꺼워어어/오고옥/애널/할짝할짝/")%
		CASEELSE
			LOCALS = %TEXTR("엉덩이 구멍이이/구멍이이～/고츄우우/벅벅 긁혀져/궁둥이 보지이이/방뎅이 보지가아아/모르겠어냥/")%
		ENDSELECT

	CASE IS < CUP:ARG:쾌Ｃ + CUP:ARG:쾌Ｖ + CUP:ARG:쾌Ａ + CUP:ARG:쾌Ｂ
		;가슴、いろいろかけると思ったらない人のことを忘れてた(ﾋﾟﾁｭｰﾝ)
		LOCAL = MIN(ABL:ARG:Ｂ감각 * 20, 180) + RAND:100
		SIF CFLAG:ARG:자동신음 != 2
			LOCAL = MIN(LOCAL, 150)
		SELECTCASE LOCAL
		;감각＋乱数による분기、下に行くほどアレです
		CASE 0 TO 80
			LOCALS = %TEXTR("하아…/응…/이야앙/히야앙/냐앗/")%
		CASE 81 TO 150
			LOCALS = %TEXTR("가슴/젖꼭지/쭈우욱/")%
		CASE 151 TO 200
			LOCALS = %TEXTR("가슴이이/슴가가아/찌찌가아/꼭지가아/딱딱해져서어/")%
		CASEELSE
			LOCALS = %TEXTR("가슴이이이/슴가가아아아/찌찌가아아아/꼭지가아아/쿡쿡해서어어/오독오독해/딱딱해져어어어/")%
		ENDSELECT

	CASEELSE
		LOCAL = MIN(ABL:ARG:Ｍ감각 * 20, 180) + RAND:100
		SIF CFLAG:ARG:자동신음 != 2
			LOCAL = MIN(LOCAL, 150)
		;おくち、実は死に분기の可能性が高いという。コマンドにゆびちゅぱください
		SELECTCASE LOCAL
		;감각＋乱数による분기、下に行くほどアレです
		CASE 0 TO 80
			LOCALS = %TEXTR("음…/음후…/음후읍/히야앙/음냐/")%
		CASE 81 TO 150
			LOCALS = %TEXTR("입/입속/밑이/주웁/음후웁/쭈웁/")%
		CASE 151 TO 200
			LOCALS = %TEXTR("입보지/아래가/할짝/안까지/쩝쩝/딱딱해에/")%
		CASEELSE
			LOCALS = %TEXTR("후우웁/입보지이/할짜아악/크후으읍/츄르르/쭈웁쭈웁/")%
		ENDSELECT

	ENDSELECT
	RETURNF LOCALS
ENDIF

IF CFLAG:ARG:우후후 != 2
	IF (喘ぎ강도 < 3 || (喘ぎ강도 == 3 && RAND:4))
		IF TALENT:ARG:배짱 > 0 || TALENT:ARG:반응 > 0 || TALENT:ARG:프라이드 > 0
			LOCALS = %TEXTR("그만해…/서투르네/이제 됐잖아…/역겨워…/만지지 마…/죽어/엿먹어/큭…")%

		ELSE
			LOCALS = %TEXTR("으윽…/흐윽…/싫어어…/그만해에…/싫어요오…/봐주세요오…/싫어어/흑흑...")%
		ENDIF
	ELSE
ENDIF
;通常喘ぎ
SELECTCASE 喘ぎ강도
	CASE 1
		LOCALS = %TEXTR("앗…/으응…/응…/후우…/하앗…/")%
	CASE 2
		LOCALS = %TEXTR("야앗/하앗/후아아/후아앙/후앗/크흐윽/후ー윽/아앗/아ー 앙/아아앙/아응/하아앙/하ー 앗/히야앗/히으윽/히아양/응응/하으윽/하아앗/으그윽")%
	CASEELSE
		IF RAND:喘ぎ강도 >= 3 && CFLAG:ARG:자동신음 == 2
			LOCALS = %TEXTR("아아아앗/아아아아아～～/우으으아아앗/우으으아아아아아앗/아아아앙/오오오옷/오오오오～～옷/오오오오하앙/하오오오오옷/호오오오오～～옷/으오오오오옷/오오오오앗/하히이이/으아아아아아/우와아아아아/가버려어어/아가아앗/즈으～～윽/응으으으 호오옷/")%
		ELSEIF RAND:喘ぎ강도 >= 2
			LOCALS = %TEXTR("오옷/오오옷/이히이잇/히이이잇/아히이잇/하히이이/굉장해에엣/대단해에에/엄청나아아/～～으응/히아아앗아아앙/응으으으으앗/이상해져버려어어/")%
		ELSEIF !RAND:3
			LOCALS = %TEXTR("하으응/하흐응/크으응/아아앙/히야앙/하아앙/아앗/")%
		ELSEIF !RAND:2
			LOCALS = %TEXTR("좋아앙/좀 더어/히이잉/히ー 앙/응하앗/아아앙/거세게에/기분 좋아아앗")%
		ELSE
			LOCALS = %TEXTR("야아앗/후아아/후앗/후ー 앗/앗/아ー 앗/아앙/아응/하앗/하ー 앗/히잉/히얏/으응/하윽/큭")%
		ENDIF
ENDSELECT
ENDIF
;ランダムで「っ」をカタカナにすることでバリエーションが増えたように錯覚させる姑息な処理
IF !RAND:4 && 喘ぎ강도 >= 3
	LOCALS = %REPLACE(@"%LOCALS%","아","앙")%
	LOCALS = %REPLACE(@"%LOCALS%","응","응응")%
ENDIF
RETURNF LOCALS




@HEARTMARK(ARG, ARGS)
GETFONT
LOCAL = GETCOLOR()
SIF ARGS != "PLAIN"
	SETCOLOR C_H_PINK
SETFONT "Times New Roman"
;PRINTFORM %UNICODE(0x2665) * ARG%
PRINTFORM %UNICODE(0x2764) * ARG%

SETFONT RESULTS
SETCOLOR LOCAL