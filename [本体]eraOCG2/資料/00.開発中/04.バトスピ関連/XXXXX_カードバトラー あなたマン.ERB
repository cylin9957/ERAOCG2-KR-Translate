@CARDNAME_XXXXX,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = カードバトラー %CALLNAME:MASTER%
	CASE "略称"
		IF TALENT:MASTER:性別 == 1
			RESULTS = ＠ガール
		ELSEIF TALENT:MASTER:性別 == 2
			RESULTS = ＠マン
		ELSEIF TALENT:MASTER:性別 == 3
			RESULTS = ＠マンガール
		ELSE
	RESULTS = ＠マン
	ENDIF
	CASE "カテゴリ"
		RESULTS:0 = 決闘者
		RESULTS:1 = 創界神
		RESULTS:4 = バトルスピリッツ
ENDSELECT




@CARD_XXXXX(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
;	CASE "外部者"
;		RETURN 1
	CASE "種類"
		RETURN 超次元
	CASE "属性"
		RETURN 闇属性
	CASE "種族"
		RETURN 戦士族
	CASE "レベル"
		SIF TALENT:MASTER:形状 >= 8
			RETURN 10
		SIF TALENT:MASTER:形状 == 7
			RETURN 8
		SIF TALENT:MASTER:形状 == 6
			RETURN 6
		SIF TALENT:MASTER:形状 == 5
			RETURN 4
		SIF TALENT:MASTER:形状 == 4
			RETURN 3
		SIF TALENT:MASTER:形状 == 3
			RETURN 2
		SIF TALENT:MASTER:形状 == 2
			RETURN 1
		SIF TALENT:MASTER:形状 <= 1
			RETURN 1
	CASE "攻撃力"
		SIF TALENT:MASTER:形状 >= 8
			RETURN 4000
		SIF TALENT:MASTER:形状 == 7
			RETURN 3000
		SIF TALENT:MASTER:形状 == 6
			RETURN 2500
		SIF TALENT:MASTER:形状 == 5
			RETURN 2000
		SIF TALENT:MASTER:形状 == 4
			RETURN 1500
		SIF TALENT:MASTER:形状 == 3
			RETURN 1000
		SIF TALENT:MASTER:形状 == 2
			RETURN 500
		SIF TALENT:MASTER:形状 <= 1
			RETURN 0
	CASE "守備力"
		RETURN 0
	CASE "性別"
		IF TALENT:MASTER:性別 == 1
			RETURN 牝性
		ELSEIF TALENT:MASTER:性別 == 2
			RETURN 雄性
		ELSEIF TALENT:MASTER:性別 == 3
			RETURN ふたなり
		ELSE
			RETURN 雄性
		ENDIF
	CASE "生産不可"
		RETURN 1
	CASE "特殊不可"
		RETURN 1
	CASE "連動ID"
		RETURN 9990
ENDSELECT

RETURN 0


@CARD_EXPLANATION_XXXXX(種類)
#DIM DYNAMIC 種類

PRINTL このカードはこのカードの効果でのみ特殊召喚できる。
CALLFORM CARD_ABLE(20,ターン開始時強制)
PRINTL ①：デュエル開始時に自分の手札に「契約」カードが存在せず、自分のデッキに「契約」カードが１種類のみの場合に発動する。
PRINTL デッキから「契約」カード１枚を手札に加える。その後、手札１枚をデッキに加えてシャッフルする。
CALLFORM CARD_ABLE(0,EXデッキ起動)
PRINTL ②：自分のEXデッキに「創界神」が１種類のみで、
PRINTL 自分フィールドに「創界神」が存在しない場合に発動できる。
PRINTL 手札１枚をデッキに加え、EXデッキのこのカードを自分の魔法＆罠ゾーンに表側表示でセットする。
CALLFORM CARD_ABLE(0,召喚強制誘発)
PRINTL ③：このカードが魔法・罠ゾーンに存在する限り、
PRINTL 自分のモンスターがEXデッキから特殊召喚される度、このカードにコアカウンターを１つ置く。
CALLFORM CARD_ABLE(0,魔罠起動)
PRINTL ④：このカードにコアカウンターが４つ以上乗っている場合に発動できる。
PRINTL このカードのコアカウンターを全て取り除き、このカードをターン終了時まで魔法・罠ゾーンから特殊召喚する。
CALLFORM CARD_ABLE(0,永続効果)
PRINTL ⑤：フィールドのこのカードは対象耐性・破壊耐性を持ち、
PRINTL このカードがモンスターゾーンに存在する限り、カード名をマスターとしても扱う。





@CARDSUMMON_XXXXX(決闘者,召喚カード,EX参照)
#DIMS DYNAMIC 決闘者
#DIM DYNAMIC 召喚カード
#DIM DYNAMIC EX参照
#DIM DYNAMIC カウンタ

RETURN 0


@CARDCAN_XXXXX(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 必要カード
#DIMS DYNAMIC 対面者

CALL 対面者判定(決闘者)
対面者 = %RESULTS%


CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,XXXXX)
SIF RESULT == 1
	RETURN 0

IF 種類 == ターン開始時強制
	SIF 発動済_D1(決闘者,XXXXX)
		RETURN 0
	SIF ゾーン != "EXデッキ"
		RETURN 0
	SIF ターン数 > 1
		RETURN 0
	CALL FULLRESET
	効果範囲デッキ = 1
	効果範囲手札 = 1
	効果条件カテゴリ = 契約
	効果条件固カテゴリ = 詩姫
	効果条件固名前起動 = 1;CARDCHECK_ADV専用
	効果条件CNT = 1
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT >= 2
		RETURN 0
	CALL FULLRESET
	効果範囲手札 = 1
	効果条件カテゴリ = 契約
	効果条件固カテゴリ = 詩姫
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT == 1
		RETURN 0
	CALL FULLRESET
	効果範囲デッキ = 1
	効果条件カテゴリ = 契約
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == EXデッキ起動
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	SIF 手札数(決闘者) == 0
		RETURN 0
	CALL FULLRESET
	効果範囲EXデッキ = 1
	効果範囲戦場 = 1
	効果範囲魔罠 = 1
	効果条件カテゴリ = 創界神
	効果条件固名前起動 = 1;CARDCHECK_ADV専用
	効果条件CNT = 1
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT >= 2
		RETURN 0
	CALL FULLRESET
	効果範囲戦場 = 1
	効果範囲魔罠 = 1
	効果条件カテゴリ = 創界神
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT == 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == 召喚強制誘発
	SIF ゾーン != "魔罠"
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") >= 2
		RETURN 0
	SIF 最終召喚決者 != 決闘者
		RETURN 0
	SIF 最終召喚タイプ == ""
		RETURN 0
	SIF 最終召喚出処 != "EXデッキ"
		RETURN 0
	RETURN 1
ELSEIF 種類 == 魔罠起動 && GETVAR(@"%決闘者%_魔_表:場所") == 1
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_個Ｃ:場所") < 4
		RETURN 0
	RETURN 1
ELSEIF 種類 == ターン終了時予約
	CALL FULLRESET
	効果範囲戦場 = 1
	効果条件名前 = カードバトラー %CALLNAME:MASTER%
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == 永続効果
	SIF !GROUPMATCH(ゾーン, "魔罠","戦場")
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_XXXXX(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 攻撃力修正
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 選択カード_ID
#DIM DYNAMIC カウンター数

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

IF 種類 == ターン開始時強制
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,XXXXX,20)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲デッキ = 1
		効果条件カテゴリ = 契約
		CALL CARD_ADD_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			CALL CARD_CHOOSE_BASIC(決闘者,"手札",ゾーン,場所)	
			選択カード = RESULT
			IF 選択カード != 9999
				CALL CARD_DISPOSE(決闘者,"手札",選択カード,デッキ行き)
			ENDIF
		ENDIF
	ENDIF
ELSEIF 種類 == EXデッキ起動
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,XXXXX)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲手札 = 1
		効果条件行先フラグ = デッキ行き
		CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			CALL CARD_ADD(決闘者,"EXデッキ", "魔罠", 場所,"表側表示")
		ENDIF
	ENDIF
ELSEIF 種類 == 召喚強制誘発
	PRINTFORML コアチャージ！あなたにコアカウンターが１つ乗りました。
	CALL SET_FIELD_INFO(決闘者,"魔罠",場所,"個Ｃ",1)
ELSEIF 種類 == 魔罠起動 && GETVAR(@"%決闘者%_魔_表:場所") == 1
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,XXXXX)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_SP_SUMMON(決闘者,ゾーン,場所)
		CALL CARD_RESERV(決闘者,XXXXX)
	ENDIF
ELSEIF 種類 == ターン終了時予約
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,XXXXX)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲戦場 = 1
		効果条件名前 = カードバトラー %CALLNAME:MASTER%
		効果条件表示 = 表側表示
		CALL CARD_CHOOSE_BASIC(決闘者,"戦場",ゾーン,場所)
		選択カード = RESULT
		IF 選択カード != 9999
			CALL CARD_DISPOSE(決闘者,"戦場",選択カード,魔罠行き)
		ENDIF
	ENDIF
ELSEIF 種類 == 永続効果
	IF ゾーン == "魔罠"
		CALL STATCHANGE_EFFECT(決闘者,"魔自身",場所,"対耐")
		CALL STATCHANGE_EFFECT(決闘者,"魔自身",場所,"破耐")
	ELSEIF ゾーン == "戦場"
		CALL FULLRESET
		CALL STATCHANGE_EFFECT(決闘者,"自身",場所,"変化元ID",9990)
		CALL STATCHANGE_EFFECT(決闘者,"自身",場所,"対耐")
		CALL STATCHANGE_EFFECT(決闘者,"自身",場所,"破耐")
	ENDIF
ENDIF

