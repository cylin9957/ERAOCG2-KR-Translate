@CARDNAME_58016,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = No.16 色の支配者ショック・ルーラー
	CASE "略称"
		RESULTS = #16 ルーラー
	CASE "カテゴリ"
		RESULTS:0 = ナンバーズ
ENDSELECT


@CARD_58016(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN エクシーズ
	CASE "属性"
		RETURN 光属性
	CASE "種族"
		RETURN 天使族
	CASE "レベル"
		RETURN 4
	CASE "攻撃力"
		RETURN 2300
	CASE "守備力"
		RETURN 1600
	CASE "制限"
		RETURN 制限
ENDSELECT
RETURN 0

@CARDSUMMON_58016(決闘者,召喚カード,EX参照)
#DIMS DYNAMIC 決闘者
#DIM DYNAMIC 召喚カード
#DIM DYNAMIC EX参照
#DIM DYNAMIC カウンタ

CALL RESETCONDITION_MAT
必要素材数 = 3
素材条件レベル = 4
;追加効果用

IF EX参照 == 1
	CALL XYZCAN(決闘者,召喚カード,58016) 
	RETURN RESULT
ENDIF



@CARD_EXPLANATION_58016(種類)
#DIM DYNAMIC 種類

PRINTL レベル４モンスター×３
CALLFORM CARD_ABLE(10,戦場起動)
PRINTL ①：１ターンに１度、このカードのＸ素材を１つ取り除き、
PRINTL カードの種類（モンスター・魔法・罠）を宣言して発動できる。
PRINTL このカードがフィールドに存在する限り、次の自分スタンバイフェイズまで、
PRINTL 宣言した種類のカードの効果をお互いに発動できない。


@CARDSUMMON_AA_58016

SETCOLOR C_AQUA
PRINT 　　　　　　　　　　　　　　　　　　　　　
PRINTL 　　　　　　　　　　　　　　　　　　　
PRINT 　　　　　　　　　　　　　　　　　　　　　
PRINTL 　　　　　　　　　　　　 ／￣＼　　　 
PRINT 　　　　　 ／￣＼　 　／￣￣＼　　　　　　
PRINTL 　　　　　　　　　　　 ／　　 │　　  
PRINT 　　　　 （　　　）　│　　　│　　　　　 
PRINTL 　　　　　　　　　　 ／　　　／　　　 
PRINT 　　　　　 ＼＿／　　│　　　│　　　　　 
PRINTL 　　　　　　　　　 ／　　　／　　　　 
PRINT 　　　　 　　　　　　│　　　│　　　　　 
PRINTL 　　　　　　　　　│　　 ／　　　　　 
PRINT 　　　　　　　　　　 │　　　│　　　　　 
PRINTL 　　　　　　　　　 ＼＿／　　　　　　 
PRINT 　　　　　　　　　　 │　　　│　　　　　 
PRINTL 　　　　　　　　　 　　　　　　　　　 
PRINT 　　　　　　　　　　 │　　　│　　　　　 
PRINTL 　　　 ／￣￣＼　　／￣＼　　／￣￣＼ 
PRINT 　　　　　　　　　　 │　　　│　　　　　 
PRINTL 　　　│　　　│　(　　　)　│　　　│
PRINT 　　　　　　　　　　 │　　　│　　　　　 
PRINTL 　　　│　　　│　 ＼＿／　 │　　　│
PRINT 　　　　　 ／￣￣￣￣　　　　　￣￣￣￣＼ 
PRINTL 　　　│　　　 ＼＿＿＿＿＿／　　　 │
PRINT 　　　　　│　　　　　　　　　　　　　　│
PRINTL 　　　 ＼　　　　　　　　　　　　　／ 
PRINT 　　　　　 ＼＿＿＿＿＿＿＿＿＿＿＿＿＿／ 
PRINTL 　　　　 ＼＿＿＿＿＿＿＿＿＿＿＿／　 
PRINT 　　　　　　　　　　　　　　　　　　　　　
PRINTL 　　　　　　　　　　　　　　　　　　　
PRINT 　　　　　　　　　　　　　　　　　　　　　
PRINTL 　　　　　　　　　　　　　　　　　　　
RESETCOLOR
WAIT


@CARDCAN_58016(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 必要カード
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 条件達成

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,58016)
SIF RESULT == 1
	RETURN 0

IF 種類 == 戦場起動
	SIF 効果発動済(決闘者,場所,ゾーン)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	SIF GETVAR(@"%決闘者%_MZ_Ｘ:場所") <= -1
		RETURN 0
	RETURN 1

ELSEIF 種類 == ターン開始時強制
	SIF ゾーン != "戦場"
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	RETURN 1

ELSEIF 種類 == 永続効果
	SIF ゾーン != "戦場"
		RETURN 0
	SIF GETVAR(@"%決闘者%_MZ_汎数:場所") <= 0
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_58016(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 選択カード

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

IF 種類 == 戦場起動
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,58016,10,X消費1)
	IF RESULT == 0
		IF 決闘者 == "自分"
			PRINTL 【カードの種類を選択してください】
			PRINTL
			PRINTL [1] - モンスター
			PRINTL [2] - 魔法
			PRINTL [3] - 罠
			BINPUT
		ELSE
			RESULT = RAND:2 + 1
		ENDIF
		CALL SET_FIELD_INFO(決闘者,ゾーン,場所,"汎数",RESULT,1)
	ENDIF

ELSEIF 種類 == ターン開始時強制
	CALL SET_FIELD_INFO(決闘者,ゾーン,場所,"汎数",0,1)

ELSEIF 種類 == 永続効果
	SELECTCASE GETVAR(@"%決闘者%_MZ_汎数:場所")
		CASE 1
			CALL SET_PLAYER_INFO(決闘者,"モン効果無効",3)
			CALL SET_PLAYER_INFO(決闘者,"モン効果無効",3,1)
		CASE 2
			CALL SET_PLAYER_INFO(決闘者,"魔無効",3)
			CALL SET_PLAYER_INFO(決闘者,"魔無効",3,1)
		CASE 3
			CALL SET_PLAYER_INFO(決闘者,"罠無効",3)
			CALL SET_PLAYER_INFO(決闘者,"罠無効",3,1)
	ENDSELECT
ENDIF

